{% extends "template.html"%}
{% load staticfiles %}


{% block content %}

<script src='https://www.google.com/recaptcha/api.js'></script>


<form method="post" action="/task/add/">
{% csrf_token %}
<table>
<tr>
    <td><input type=text name=tasktext></td>
    <td><input type=submit value="اضافه کردن"></td>
</tr>
</table>
<input type="hidden" name="save" value="true" />
</form>

<hr >

<h2 class="todoheader">کارهای پیش رو</h2>
<div class="griddo">
{% for task in tasks %}
     <div class="grid-item">
       {{ task.text }}
       <div class="linkdone">
         <a class="linkdone" href="/task/{{ task.id }}/done/">انجام شد</a>
       </div>

     </div>
{% endfor %}
</div>

<hr />

<h2 class="todoheader">کارهای انجام شده</h2>
<div class="griddone">
{% for task in tasksDone %}
         <div class="grid-item taskdone">
           {{ task.text }}
           <div class="linkdone">
             <a class="linkdone" href="/task/{{ task.id }}/redo/">فعال سازی مجدد</a>
           </div>
        </div>
{% endfor %}
</div>

</div>

<script >
var elem = document.querySelector('.griddo');
var msnry = new Masonry( elem, {
  itemSelector: '.grid-item',
  columnWidth: 40,
  gutter: 5,
  originLeft: false,
});

var elem = document.querySelector('.griddone');
var msnry = new Masonry( elem, {
  itemSelector: '.grid-item',
  columnWidth: 40,
  gutter: 5,
  originLeft: false,
});


</script >
{% endblock %}
